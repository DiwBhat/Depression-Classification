# A Smarter Approach to Student Well-Being

![Project Image](classify_depression/Images/depression_Prediction_image.png)
[ Image Generated using [Adobe Firefly](https://www.adobe.com/products/firefly.html) and Edited for liking ]

## üåü Project Introduction

In today's demanding academic landscape, students often grapple with significant stress, anxiety, and burnout stemming from coursework, exams, and external pressures. This can negatively affect both their academic success and overall mental well-being, as they navigate challenges like poor time management, insufficient sleep, and overwhelming workloads.

Our **Behavioral Optimization & Mental Wellness System** directly addresses this by offering a two-pronged approach:

1.  **üß† Depression Risk Prediction:** Leveraging a machine learning model (RandomForest), the system analyzes individual student data‚Äîencompassing demographics, academic performance, lifestyle habits, and stress indicators‚Äîto **predict the likelihood of experiencing depression.** This provides an early awareness metric for students and potential support systems.

2.  **üí° Personalized Behavioral Recommendations:** Moving beyond generic advice, the system then:
    - **Identifies Behavioral Trends:** It analyzes the user's input against predefined wellness indicators.
    - **Offers Tailored Strategies:** For users, especially those identified with a medium or high predicted risk of depression, the system provides personalized recommendations. These suggestions cover study techniques, wellness practices (like sleep hygiene), stress reduction methods, and time management tips.
    - **Learns from Peers:** Crucially, these recommendations are enhanced by comparing the user's profile with a dataset of students. By identifying similar peers who exhibit low depression risk, the system highlights positive behavioral differences and suggests actionable changes based on what has proven effective for others in comparable situations.

Unlike static wellness resources, this system aims to provide continuously relevant and effective support. It's more than a habit tracker; it's a dynamic tool designed to empower students to optimize their routines, manage stress more effectively, and cultivate sustainable habits for long-term academic achievement and personal well-being.

---

## ‚öôÔ∏è Setup and Installation

1.  **Clone the repository (if applicable):**

    ```bash
    git clone https://github.com/DiwBhat/Depression-Classification.git
    cd Depression-Classification
    ```

2.  **Create and activate a virtual environment (recommended):**

    ```bash
    python -m venv venv
    # On Windows
    venv\Scripts\activate
    # On macOS/Linux
    source venv/bin/activate
    ```

3.  **Install dependencies:**

    ```bash
    pip install -r requirements.txt
    ```

4.  **Place necessary files:**

    - Ensure `cleaned_student_data.csv` is in the root directory (or update the path in `app.py`).
    - Ensure the `Model_rf/` directory exists and contains `rf_tuned_model.joblib` (or `.json`) and `feature_columns_final.joblib`. These are generated by running the `final_trainer.ipynb`.
      <br>
      The `cleaned_student_data.csv` can be obtained by running the `preprocessing.ipynb` file, ensure the original data is present.
      <br>
      The models can be obtained by running the `final_trainer.ipynb` file

## üöÄ Running the Application

1.  **Navigate to the project directory** in your terminal.
2.  **Run the Streamlit application:**
    ```bash
    python3 -m streamlit run app.py
    ```
3.  The application will open in your default web browser.

## üß™ Running Tests

1.  **Navigate to the project directory.**
2.  **Run the tests using pytest (recommended) or unittest:**
    ```bash
    python3 -m pytest test_app_logic.py
    ```
    or
    ```bash
    python -m unittest test_app_logic.py
    ```

## üìú Data

The primary dataset used is `cleaned_student_data.csv`. This dataset includes demographic, academic performance, lifestyle habits, mental health indicators, etc and has been preprocessed and one-hot encoded for model training.

**Key Features Considered:**

- Age, Gender, City (mapped to Region)
- Academic Pressure, CGPA, Study Satisfaction, Work/Study Hours
- Sleep Duration (ordinal), Dietary Habits
- Degree (categorized by Level, Field, Type)
- Suicidal Thoughts, Family History of Mental Illness

![Important Features](classify_depression/Images/Feature_Importance.png)

## üß† Model Training & Preprocessing

The RandomForest model was trained using the following key steps (details in `final_trainer.ipynb`):

1.  **Data Loading & Initial Cleaning:** Loading `cleaned_student_data.csv`.
2.  **Feature Engineering:**
    - City mapped to geographical regions.
    - Degree categorized into Level, Field, and Type.
    - Total Stress calculated.
    - Sleep Duration converted to ordinal.
3.  **Data Splitting:** Data split into training and testing sets with stratification.
4.  **Hyperparameter Optimization:** Optuna was used for Bayesian optimization to find the best RandomForest parameters, optimizing for ROC AUC score.
5.  **Final Model Training:** The model was retrained on the full training set using the best hyperparameters.
6.  **Prediction Threshold:** A custom probability threshold of `0.5225` is used for classification to balance precision and recall

## üìà Evaluation

The model achieved the following performance on the held-out test set:

- **Accuracy:** [~85%]
- **ROC AUC Score:** [0.92]
- **Key Classification Report Metrics (for Depression class = 1):**
  - Precision: [0.87]
  - Recall: [0.87]
  - F1-Score: [0.87]

![Confusion Matrix](classify_depression/Images/Confusion_Matrix.png)
<br>
![ROC Curve](classify_depression/Images/ROC_Curve.png)
<br>
![Precision Recall Curve](classify_depression/Images/Precision_Recall_Curve.png)

## Recommendation System Logic

The recommendation system works in two main ways:

1.  **Direct Rule-Based Recommendations:** Based on the user's direct input for key factors like academic pressure, sleep, financial stress, etc., predefined suggestions are offered if input values cross certain thresholds.
2.  **Comparative Analysis (for Medium/High Risk Users):**
    - **Similarity Matching:** Identifies a cohort of students from the dataset who are most similar to the user based on their preprocessed features (using cosine similarity on scaled numerical features and one-hot encoded categoricals).
    - **Positive Deviant Filtering:** Filters this similar cohort to retain only students with a low actual risk of depression.
    - **Difference Identification:** Compares the user's actionable habits (e.g., sleep duration, study satisfaction) with the median habits of the similar, low-risk group.
    - **Tailored Suggestions:** If significant positive differences are found in the low-risk group, personalized recommendations are generated to guide the user towards those healthier patterns.

## Future Enhancements

- **User Progress Tracking:** Track user's past record and provide an insight.
- **Better Similarity Recommendation:** Collect data of student on how they maintain their lifestyle and provide recommendation based on them rather than the current implementation of just showing scores.
- **Show Nearest Health Care:** Allow users to view their nearest Health Care Centers.
- **Recommend Doctors based on user review:** Provide a recommendation to known doctors based on other users review of the doctor.
- **Deployment:** Deploy the Streamlit application to a cloud platform (e.g., Streamlit Community Cloud, AWS, GCP).

## ‚ö†Ô∏è Disclaimer

This tool is for informational and educational purposes only and does **not** constitute medical advice. If you have concerns about your mental health, please consult a qualified healthcare professional.

## ü§ù Contributing

- Diwash Bhattarai
- Faiza Khan
- Durapatie (Priya) Ramdat

---
